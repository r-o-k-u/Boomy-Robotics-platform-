<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Robotic Control System v2.0 - Mission Planner Style</title>
    
    <!-- External Dependencies -->
     <!-- External Dependencies -->
     <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
     <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <div class="dashboard-container">
          <!-- Left Column -->
          <div class="column left">
            <div class="panel map-container" id="map-panel">
                <div class="map-overlay">
                    <div>GPS Accuracy: <span id="gps-accuracy">0m</span></div>
                    <div>Satellites: <span id="gps-satellites">0</span></div>
                    <button onclick="MapManager.clearWaypoints()">üßπ Clear Waypoints</button>
                </div>
            </div>
            
            <div class="panel telemetry-panel" data-panel-id="telemetry">
                <h2>System Telemetry</h2>
                <div class="status-indicators">
                    <div class="status-item">
                        <div class="digital-led" id="lights-status"></div>
                        <span>Lights</span>
                    </div>
                    <div class="status-item">
                        <div class="digital-led" id="estop-status"></div>
                        <span>E-Stop</span>
                    </div>
                    <div class="status-item">
                        <div class="digital-led" id="brakes-status"></div>
                        <span>Brakes</span>
                    </div>
                </div>
                <div class="telemetry-grid" id="telemetry-display"></div>
                <h3>Receiver Channels</h3>
                <div class="channel-container" id="channels-display"></div>
            </div>
        </div>
        <!-- Center Column -->
        <div class="column center">
            <div class="panel instrument-panel" data-panel-id="instruments">
                <div class="attitude-indicator">
                    <canvas id="attitude-canvas"></canvas>
                </div>
                <div class="heading-indicator">
                    <canvas id="heading-canvas"></canvas>
                </div>
            </div>
            <div class="panel rover-3d-panel" data-panel-id="rover3d">
                <div class="orientation-display">
                    <div class="axis-label">ROLL: <span id="roll-value">0.00¬∞</span></div>
                    <div class="axis-label">PITCH: <span id="pitch-value">0.00¬∞</span></div>
                </div>
                <canvas id="rover-canvas"></canvas>
            </div>
            
            <div class="panel video-panel" data-panel-id="video">
                <div class="video-tabs">
                    <div class="video-tab active" data-feed="camera">Camera</div>
                    <div class="video-tab" data-feed="depth">Depth</div>
                </div>
                <img src="/video_feed" class="active-feed">
                <img src="/depth_feed" class="hidden-feed">
            </div>
        </div>

        <!-- Right Column -->
        <div class="column right">
            <div class="panel control-panel" data-panel-id="controls">
                <div class="control-modes">
                    <button class="mode-btn" data-mode="auto">ü§ñ Auto</button>
                    <button class="mode-btn active" data-mode="manual">‚úã Manual</button>
                    <button class="mode-btn" data-mode="radio">üìª Radio</button>
                </div>
                <div class="joystick-container">
                    <div class="virtual-joystick" id="main-joystick"></div>
                </div>
                <div class="emergency-controls">
                    <button class="e-stop" onclick="ControlManager.emergencyStop()">üõë E-STOP</button>
                </div>
            </div>

            <div class="panel system-status" data-panel-id="status">
                <h3>System Status</h3>
                <div class="status-grid">
                    <div class="status-item">
                        <span class="label">Battery:</span>
                        <span class="value" id="battery-level">24.6V</span>
                        <div class="battery-bar" id="battery-bar"></div>
                    </div>
                    <div class="status-item">
                        <span class="label">Signal:</span>
                        <span class="value" id="signal-strength">-72dBm</span>
                        <div class="signal-bar" id="signal-bar"></div>
                    </div>
                </div>
            </div>
        </div>
         <!-- Status Bar -->
   
    </div>
    
    <div class="status-bar">
        <div class="connection-status">
            <div class="status-dot" id="connection-dot"></div>
            <span id="connection-status">Connecting...</span>
        </div>
        <div id="system-status">
            <span id="battery-level">üîã 100%</span>
            <span id="signal-strength">üì∂ Strong</span>
            <span id="gps-coords">üåç 0.0000, 0.0000</span>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script src="/static/js/app.js"></script>
</body>
</html>